import{a as i,b as e,t as l,g as c,v as n,F as r,c as p,o as m,p as u,h as _}from"./index-04e45f01.js";import{_ as f}from"./_plugin-vue_export-helper-c27b6911.js";const h={data(){return{form:{}}},computed:{config(){return this.$config}},created(){document.title="登录 - "+this.$config.site_name},mounted(){},methods:{doSubmit(){let t=this;this.$http.post("/api/auth/login",this.form).then(s=>{t.loading=!1,s.data.code===0?(t.$message.success("登录成功"),t.readonly=!0,t.$store.dispatch("user/setToken",{token:"Bearer "+s.data.data.access_token,remember:t.form.remember}).then(()=>{setTimeout(function(){window.location.replace("/")},100)})):t.$message.error(s.data.msg)})}}},v=t=>(u("data-v-0062dc05"),t=t(),_(),t),g={class:"login-header"},b={class:"content"},y={class:"bc-wrap"},k={class:"login-box"},w={id:"login",style:{display:"block"}},x=v(()=>e("h3",null,"登录",-1)),S={class:"form-group"},I={class:"form-group"},B={class:"form-btn"},V=p('<div class="form-ft bc-zoom" data-v-0062dc05><span class="tl" data-v-0062dc05><label style="font-size:12px;" data-v-0062dc05><input checked="checked" name="autoLogin" value="1" type="checkbox" disabled="" data-v-0062dc05>自动登录</label></span><span data-v-0062dc05><a target="_self" href="###" data-v-0062dc05>注册</a></span><span class="tr" data-v-0062dc05><a class="fpw" href="###" data-v-0062dc05>忘记密码 &gt;</a></span></div>',1);function D(t,s,T,U,a,d){return m(),i(r,null,[e("div",g,l(d.config.tips_desc),1),e("div",b,[e("div",y,[e("div",k,[e("div",w,[x,e("div",S,[c(e("input",{type:"text",placeholder:"UID/邮箱",class:"username","onUpdate:modelValue":s[0]||(s[0]=o=>a.form.username=o)},null,512),[[n,a.form.username]])]),e("div",I,[c(e("input",{type:"password",placeholder:"密码",class:"password","onUpdate:modelValue":s[1]||(s[1]=o=>a.form.password=o)},null,512),[[n,a.form.password]])]),e("div",B,[e("button",{onClick:s[2]||(s[2]=(...o)=>d.doSubmit&&d.doSubmit(...o)),type:"submit"},"登录")]),V])])])])],64)}const F=f(h,[["render",D],["__scopeId","data-v-0062dc05"]]);export{F as default};
