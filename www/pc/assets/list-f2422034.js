import{s as W,u as X,C as B,x as Y,r as T,a as d,b as o,d as a,w as l,t as n,e as m,F as _,j as y,y as Z,k as $,A as ee,o as r,l as c,f as g,p as te,h as oe,B as se,D as le,G as re,H as ae,I as ne,J as ie,K as de,L as me,M as ce,N as _e,O as ue,P as pe,Q as ge,R as fe,S as ye}from"./index-04e45f01.js";/* empty css             *//* empty css               *//* empty css            */import{_ as he}from"./error-5dbb389c.js";/* empty css                    */import{f as xe}from"./formatDate-75ce7776.js";/* empty css                 *//* empty css                        */import{_ as be}from"./_plugin-vue_export-helper-c27b6911.js";const ke=function(){let s=0;return function(i,u){clearTimeout(s),s=setTimeout(i,u)}}(),Ce={computed:{ArrowRight(){return W}},data(){return{customer_drawer:!1,qun_drawer:!1,direction:"rtl",game_name:"",customer:[],qun:[],category_state:!0,game_id:0,data:[],count:0,page_size:7,page:1,sort:"0",sort_sc:"1",form:{id:0,category:{},price:[],sort:"0-0"},category_form:{},game_info:{info:[],category:[],category_info:[]},category:[]}},watch:{category_form:{handler(s,i){this.delayCategoryFormCall()},deep:!0},"form.price":{handler(s,i){this.delayCategoryFormCall()},deep:!0}},created(){document.title="游戏详情 - 游戏列表 - "+this.$config.site_name},mounted(){const s=X();if(!s.query.game_id){this.ErrorGame();return}this.game_id=parseInt(s.query.game_id),this.getGameInfo()},methods:{customerCancelClick:function(s){this.customer_drawer.value=!1},qunCancelClick:function(s){this.qun_drawer.value=!1},getCustomerData(){this.$http.get("/api/common/customer?id="+this.game_name).then(s=>{this.loading=!1,s.data.code===0?this.customer=B.decrypt(s.data.data):this.$message.error(s.data.msg)}).catch(s=>{this.loading=!1,this.$message.error(s.message)}),this.$http.get("/api/common/qun?id="+this.game_name).then(s=>{this.loading=!1,s.data.code===0?this.qun=B.decrypt(s.data.data):this.$message.error(s.data.msg)}).catch(s=>{this.loading=!1,this.$message.error(s.message)})},initData:function(){this.sort="0",this.sort_sc="1",this.category_form={}},sortUpdateInit:function(){this.form.sort=this.sort+"-1",this.sort_sc="1",this.delayCategoryFormCall()},sortUpdate:function(){let s=this;s.sort_sc=="0"?s.sort_sc="1":s.sort_sc="0",setTimeout(function(){s.form.sort=s.sort+"-"+s.sort_sc,s.delayCategoryFormCall()},100)},formatDate:function(s){return xe(s,"yyyy-m-d")},CallUpdateServer(s){this.category_form[s+"_server"]=99999},delayCategoryFormCall:function(){ke(()=>{this.categoryFormCall()},800)},categoryFormCall(){this.form.page=1,this.form.limit=1;let s=Object.keys(this.category_form),i=[];for(let u=0;u<s.length;u++)if(parseInt(s[u])==s[u]){let k=s[u]+"-";if(this.category_form[s[u]]=="-1")continue;if(this.category_form[s[u]+"_max"]!=null)k+=this.category_form[s[u]]+"-"+this.category_form[s[u]+"_max"];else if(this.category_form[s[u]+"_server"]!=null)k+=this.category_form[s[u]]+"-"+this.category_form[s[u]+"_server"];else if(Array.isArray(this.category_form[s[u]])){if(k="",this.category_form[s[u]].length==0)continue;let t=s[u]+"-";for(let f=0;f<this.category_form[s[u]].length;f++){let v=t+this.category_form[s[u]][f];i.push(v)}}else k+=this.category_form[s[u]];k!=""&&i.push(k)}this.category=i,this.getAccount()},ErrorGame(s){return this.$message.error(s||"参数有误！"),Y.push({path:"/game"})},getGameInfo(){this.$http.post("/api/game/info",{id:this.game_id}).then(s=>{this.loading=!1,s.data.code===0?(this.game_info=B.decrypt(s.data.data),this.getAccount(),document.title=this.game_info.info.name+" - 游戏列表 - "+this.$config.site_name,this.game_name=this.game_info.info.name,this.getCustomerData()):this.ErrorGame(s.data.msg)}).catch(s=>{this.loading=!1,this.ErrorGame(s.message)})},getAccount(){this.form.id=this.game_id,this.form.category=this.category,this.form.page=this.page,this.form.limit=this.page_size,this.form.sort=this.sort+"-"+this.sort_sc,this.$http.post("/api/account/list",this.form).then(s=>{this.loading=!1,s.data.code===0?(this.data=B.decrypt(s.data.data),this.count=s.data.count):this.$message.error(s.data.msg)}).catch(s=>{this.loading=!1,this.$message.error(s.message)})},GetRequest(s){var i=decodeURI(window.location.search),u={};if(i.indexOf("?")!=-1)for(var k=i.substr(1),t=k.split("&"),f=0;f<t.length;f++)u[t[f].split("=")[0]]=t[f].split("=")[1];return u[s]}}},h=s=>(te("data-v-d8b32895"),s=s(),oe(),s),Ve={class:"content game_list"},we={style:{"margin-bottom":"15px"},class:"bd_moderator warpper"},Ue={class:"bd_moderator_wrap"},ve=["src","alt"],Ee={class:"fl"},Ie={class:"bd_moderator_list"},qe=h(()=>o("span",{class:"fl"},"印象:",-1)),De={class:"fl"},Be=["title"],Fe=h(()=>o("dd",{class:"fr attention",style:{position:"absolute",left:"300px",top:"30px",height:"25px"}},null,-1)),Ge={class:"hot_links",style:{position:"absolute",right:"10px",top:"10px","padding-top":"50px"}},ze={class:"link01"},Ae={class:"link03"},Re={class:"card-header"},Se=h(()=>o("span",null,"搜索条件",-1)),Te={key:0,class:"con-pages-fl amg-category"},Ne=h(()=>o("span",{class:"text-gray-500"},"-",-1)),je=h(()=>o("span",{class:"text-gray-500"},"-",-1)),Oe={key:1,style:{"text-align":"center"}},Pe=h(()=>o("span",null,"时间",-1)),Ke=h(()=>o("span",null,"金额",-1)),Le={class:"initData"},He=h(()=>o("div",{class:"game-list-header"},[o("span",null,"商品列表")],-1)),Je={class:"amg-game-list",style:{"border-bottom":"none"}},Me={class:"amg-game-des"},Qe={class:"amg-game-des-img"},We=["src"],Xe={class:"amg-game-des-info"},Ye={class:"amg-game-des-info-top"},Ze={class:"amg-game-des-info-top-content"},$e=h(()=>o("div",{class:"amg-game-des-info-top-content-title"},"详情",-1)),et={class:"amg-game-des-info-top-content-detail"},tt={class:"amg-game-des-info-tips"},ot={class:"amg-game-des-info-tips"},st={key:0},lt={class:"amg-game-des-price"},rt=h(()=>o("div",{style:{"border-bottom":"1px solid #e2e2e2"}},null,-1)),at=h(()=>o("img",{style:{width:"100%","min-height":"100px"},src:he,alt:""},null,-1)),nt=h(()=>o("h1",{style:{"font-size":"18px"}},"官方交易群",-1)),it={slot:"header",class:"clearfix"},dt={class:"text item",style:{"padding-top":"15px"}},mt=["src"],ct={style:{padding:"14px"}},_t={class:"bottom clearfix"},ut={class:"time"},pt={style:{flex:"auto"}},gt=h(()=>o("h1",{style:{"font-size":"18px"}},"联系客服",-1)),ft={slot:"header",class:"clearfix"},yt={class:"text item",style:{"padding-top":"15px"}},ht=["src"],xt={style:{padding:"14px"}},bt={class:"bottom clearfix"},kt={class:"time"},Ct={style:{flex:"auto"}};function Vt(s,i,u,k,t,f){const v=se,O=Z,E=le,w=re,q=ae,U=ne,P=ie,K=de,D=me,L=ce,H=_e,V=$,F=T("CaretTop"),G=T("CaretBottom"),z=ue,A=pe,J=T("router-link"),M=ge,Q=fe,x=ye,N=ee;return r(),d(_,null,[o("div",Ve,[a(O,{"separator-icon":f.ArrowRight,class:"orzice-breadcrumb"},{default:l(()=>[a(v,{to:"/"},{default:l(()=>[m("首页")]),_:1}),a(v,{to:"/game"},{default:l(()=>[m("全部游戏")]),_:1}),a(v,null,{default:l(()=>[m(n(t.game_info.info.name),1)]),_:1})]),_:1},8,["separator-icon"]),o("div",we,[o("div",Ue,[o("dl",null,[o("dt",null,[o("img",{src:t.game_info.info.pcIcon,alt:t.game_info.info.name},null,8,ve)]),o("dd",Ee,[o("h1",null,n(t.game_info.info.name),1),o("p",null,[m("类型："),o("span",null,n(t.game_info.info.info_type),1),m("风格："),o("span",null,n(t.game_info.info.info_style),1),m("厂商："),o("span",null,n(t.game_info.info.info_corp),1)]),o("div",Ie,[qe,o("ul",De,[(r(!0),d(_,null,y(t.game_info.info.info_feel_data,(e,C)=>(r(),d("li",{key:C},[o("a",{style:{"text-decoration":"none"},target:"_self",title:e},n(e),9,Be)]))),128))])])]),Fe,o("dd",null,[o("div",Ge,[o("ul",null,[o("li",ze,[o("a",{onClick:i[0]||(i[0]=e=>t.customer_drawer=!0),style:{"text-decoration":"none"},title:"官方交易客服"},"交易客服")]),o("li",Ae,[o("a",{onClick:i[1]||(i[1]=e=>t.qun_drawer=!0),style:{"text-decoration":"none"},title:"官方交易群"},"交易群")])])])])])])]),a(V,{class:"box-card",shadow:"always"},{header:l(()=>[o("div",Re,[Se,t.category_state?g("",!0):(r(),c(E,{key:0,class:"button",type:"success",onClick:i[2]||(i[2]=e=>t.category_state=!0)},{default:l(()=>[m("展开")]),_:1})),t.category_state?(r(),c(E,{key:1,class:"button",type:"danger",onClick:i[3]||(i[3]=e=>t.category_state=!1)},{default:l(()=>[m("折叠")]),_:1})):g("",!0)])]),default:l(()=>[t.category_state?(r(),d("div",Te,[a(H,{model:t.category_form,"label-width":"100px"},{default:l(()=>[(r(!0),d(_,null,y(t.game_info.category,(e,C)=>(r(),d(_,{key:C},[e.type==0?(r(),d(_,{key:0},[a(U,{style:{"margin-bottom":"15px"},label:e.name},{default:l(()=>[a(q,{onChange:p=>f.CallUpdateServer(e.id),modelValue:t.category_form[e.id],"onUpdate:modelValue":p=>t.category_form[e.id]=p},{default:l(()=>[(r(!0),d(_,null,y(t.game_info.category_info.data[e.id],(p,b)=>(r(),d(_,{key:b},[a(w,{border:"",label:"-1",style:{"margin-right":"15px"}},{default:l(()=>[m("全部")]),_:1}),(r(!0),d(_,null,y(p,(R,I)=>(r(),c(w,{key:I,border:"",label:I,style:{"margin-right":"15px"}},{default:l(()=>[m(n(R.name),1)]),_:2},1032,["label"]))),128))],64))),128))]),_:2},1032,["onChange","modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]),t.category_form[e.id]!="-1"&&t.category_form[e.id]!=null?(r(),c(U,{key:0,style:{"margin-bottom":"15px"},label:"服务器"},{default:l(()=>[(r(!0),d(_,null,y(t.game_info.category_info.data[e.id],(p,b)=>(r(),d(_,{key:b},[(r(!0),d(_,null,y(p,(R,I)=>(r(),d(_,{key:I},[t.category_form[e.id]==I?(r(),c(q,{key:0,modelValue:t.category_form[e.id+"_server"],"onUpdate:modelValue":S=>t.category_form[e.id+"_server"]=S},{default:l(()=>[a(w,{border:"",label:99999,style:{"margin-right":"15px","margin-bottom":"10px"}},{default:l(()=>[m("全部")]),_:1}),(r(!0),d(_,null,y(R.data,(S,j)=>(r(),c(w,{key:j,border:"",label:j,style:{"margin-right":"15px","margin-bottom":"10px"}},{default:l(()=>[m(n(S.name),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):g("",!0)],64))),128))],64))),128))]),_:2},1024)):g("",!0)],64)):g("",!0),e.type==1?(r(),c(U,{key:1,style:{"margin-bottom":"15px"},label:e.name},{default:l(()=>[a(K,{modelValue:t.category_form[e.id],"onUpdate:modelValue":p=>t.category_form[e.id]=p},{default:l(()=>[(r(!0),d(_,null,y(t.game_info.category_info.data[e.id],(p,b)=>(r(),c(P,{key:b,border:"",label:b,name:p,style:{"margin-right":"15px","margin-bottom":"10px"}},{default:l(()=>[o("div",null,n(p),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])):g("",!0),e.type==2?(r(),c(U,{key:2,style:{"margin-bottom":"15px"},label:e.name},{default:l(()=>[a(q,{modelValue:t.category_form[e.id],"onUpdate:modelValue":p=>t.category_form[e.id]=p},{default:l(()=>[a(w,{border:"",label:"-1",style:{"margin-right":"15px","margin-bottom":"10px"}},{default:l(()=>[m("全部")]),_:1}),(r(!0),d(_,null,y(t.game_info.category_info.data[e.id],(p,b)=>(r(),c(w,{key:b,border:"",label:b,name:p,style:{"margin-right":"15px","margin-bottom":"10px"}},{default:l(()=>[o("div",null,n(p),1)]),_:2},1032,["label","name"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])):g("",!0),e.type==3?(r(),c(U,{key:3,style:{"margin-bottom":"15px"},label:e.name},{default:l(()=>[a(D,{modelValue:t.category_form[e.id],"onUpdate:modelValue":p=>t.category_form[e.id]=p,min:parseInt(t.game_info.category_info.data[e.id][0]),max:t.category_form[e.id+"_max"]==""||t.category_form[e.id+"_max"]==0?parseInt(t.game_info.category_info.data[e.id][1]):t.category_form[e.id+"_max"],"controls-position":"right",controls:!1},null,8,["modelValue","onUpdate:modelValue","min","max"]),Ne,a(D,{modelValue:t.category_form[e.id+"_max"],"onUpdate:modelValue":p=>t.category_form[e.id+"_max"]=p,min:t.category_form[e.id]==""||t.category_form[e.id]==0?parseInt(t.game_info.category_info.data[e.id][0]):t.category_form[e.id],max:parseInt(t.game_info.category_info.data[e.id][1]),"controls-position":"right",controls:!1},null,8,["modelValue","onUpdate:modelValue","min","max"])]),_:2},1032,["label"])):g("",!0),a(L)],64))),128)),a(U,{style:{"margin-bottom":"15px"},label:"价格区间"},{default:l(()=>[a(D,{modelValue:t.form.price[0],"onUpdate:modelValue":i[4]||(i[4]=e=>t.form.price[0]=e),min:0,max:t.form.price[1]==""||t.form.price[1]==0||t.form.price[1]==null?9999999:t.form.price[1],"controls-position":"right",controls:!1},null,8,["modelValue","max"]),je,a(D,{modelValue:t.form.price[1],"onUpdate:modelValue":i[5]||(i[5]=e=>t.form.price[1]=e),min:t.form.price[0]==""||t.form.price[0]==0||t.form.price[0]==null?0:t.form.price[0],max:9999999,"controls-position":"right",controls:!1},null,8,["modelValue","min"])]),_:1})]),_:1},8,["model"])])):g("",!0),t.category_state?g("",!0):(r(),d("div",Oe,"查询条件已折叠"))]),_:1}),a(V,{style:{"margin-top":"15px"},class:"box-card",shadow:"always"},{default:l(()=>[a(q,{onChange:f.sortUpdateInit,modelValue:t.sort,"onUpdate:modelValue":i[6]||(i[6]=e=>t.sort=e)},{default:l(()=>[a(A,{label:"0"},{default:l(()=>[Pe,t.sort=="0"?(r(),c(z,{key:0,onClick:f.sortUpdate},{default:l(()=>[t.form.sort=="0-0"?(r(),c(F,{key:0})):g("",!0),t.form.sort=="0-1"?(r(),c(G,{key:1})):g("",!0)]),_:1},8,["onClick"])):g("",!0)]),_:1}),a(A,{label:"1"},{default:l(()=>[Ke,t.sort=="1"?(r(),c(z,{key:0,onClick:f.sortUpdate},{default:l(()=>[t.form.sort=="1-0"?(r(),c(F,{key:0})):g("",!0),t.form.sort=="1-1"?(r(),c(G,{key:1})):g("",!0)]),_:1},8,["onClick"])):g("",!0)]),_:1}),(r(!0),d(_,null,y(t.game_info.category,(e,C)=>(r(),d(_,{key:C},[e.is_sort==1?(r(),c(A,{key:0,label:"888-"+e.id},{default:l(()=>[o("span",null,n(e.name),1),t.sort=="888-"+e.id?(r(),c(z,{key:0,onClick:f.sortUpdate},{default:l(()=>[t.form.sort=="888-"+e.id+"-0"?(r(),c(F,{key:0})):g("",!0),t.form.sort=="888-"+e.id+"-1"?(r(),c(G,{key:1})):g("",!0)]),_:2},1032,["onClick"])):g("",!0)]),_:2},1032,["label"])):g("",!0)],64))),128))]),_:1},8,["onChange","modelValue"]),o("div",Le,[a(E,{type:"primary",onClick:f.initData},{default:l(()=>[m("重置搜索")]),_:1},8,["onClick"])])]),_:1}),He,a(V,{class:"box-card",shadow:"always"},{default:l(()=>[o("div",Je,[(r(!0),d(_,null,y(t.data,(e,C)=>(r(),d(_,{key:C},[a(J,{class:"data-list",to:"/game/info?id="+e.id},{default:l(()=>[o("div",Me,[o("div",Qe,[o("img",{src:e.pcIcon,alt:""},null,8,We)]),o("div",Xe,[o("div",Ye,[o("div",null,[o("span",null,n(e.name),1),o("div",Ze,[$e,o("div",et,n(e.name),1)])])]),o("div",tt,[o("span",null,"大区: "+n(e.region),1),o("span",null,"服务器: "+n(e.server),1),o("span",null,"更新时间: "+n(f.formatDate(e.updated_time)),1)]),o("div",ot,[(r(!0),d(_,null,y(t.game_info.category,(p,b)=>(r(),d(_,{key:b},[p.is_tab==1?(r(),d("span",st,n(p.name)+": "+n(e["v"+p.v]),1)):g("",!0)],64))),128))])]),o("div",lt," ¥"+n(e.price)+" ",1)])]),_:2},1032,["to"]),rt],64))),128)),t.data.length==0?(r(),c(M,{key:0,description:"这个星球没有数据"},{image:l(()=>[at]),_:1})):g("",!0),a(Q,{align:"center",onCurrentChange:f.getAccount,background:"",layout:"total, prev, pager, next, jumper","page-size":t.page_size,"onUpdate:pageSize":i[7]||(i[7]=e=>t.page_size=e),"current-page":t.page,"onUpdate:currentPage":i[8]||(i[8]=e=>t.page=e),total:t.count},null,8,["onCurrentChange","page-size","current-page","total"])])]),_:1})]),a(N,{modelValue:t.qun_drawer,"onUpdate:modelValue":i[9]||(i[9]=e=>t.qun_drawer=e),direction:t.direction},{header:l(()=>[nt]),default:l(()=>[o("div",null,[(r(!0),d(_,null,y(t.qun,(e,C)=>(r(),d(_,null,[e.img==""?(r(),c(V,{key:0,class:"box-card",style:{"margin-bottom":"15px"}},{default:l(()=>[o("div",it,[o("span",null,n(e.name),1),a(x,{style:{float:"right",padding:"3px 3px"},type:"primary"},{default:l(()=>[m(n(e.info),1)]),_:2},1024),a(x,{style:{float:"right",padding:"3px 3px"},type:"info"},{default:l(()=>[m(" - ")]),_:1}),a(x,{style:{float:"right",padding:"3px 3px"},type:"danger"},{default:l(()=>[m(n(e.type),1)]),_:2},1024)]),o("div",dt,[o("div",null,n(e.details),1)])]),_:2},1024)):(r(),c(V,{key:1,class:"box-card",style:{"margin-bottom":"15px"},"body-style":{padding:"0px"}},{default:l(()=>[o("img",{src:e.img,style:{width:"100%"},class:"image"},null,8,mt),o("div",ct,[o("span",null,n(e.details),1),o("div",_t,[o("time",ut,n(e.name),1),a(x,{style:{float:"right",padding:"3px 3px"},type:"primary"},{default:l(()=>[m(n(e.info),1)]),_:2},1024),a(x,{style:{float:"right",padding:"3px 3px"},type:"info"},{default:l(()=>[m(" - ")]),_:1}),a(x,{style:{float:"right",padding:"3px 3px"},type:"danger"},{default:l(()=>[m(n(e.type),1)]),_:2},1024)])])]),_:2},1024))],64))),256))])]),footer:l(()=>[o("div",pt,[a(E,{type:"primary",onClick:f.customerCancelClick},{default:l(()=>[m("关闭")]),_:1},8,["onClick"])])]),_:1},8,["modelValue","direction"]),a(N,{modelValue:t.customer_drawer,"onUpdate:modelValue":i[10]||(i[10]=e=>t.customer_drawer=e),direction:t.direction},{header:l(()=>[gt]),default:l(()=>[o("div",null,[(r(!0),d(_,null,y(t.customer,(e,C)=>(r(),d(_,null,[e.img==""?(r(),c(V,{key:0,class:"box-card",style:{"margin-bottom":"15px"}},{default:l(()=>[o("div",ft,[o("span",null,n(e.name),1),a(x,{style:{float:"right",padding:"3px 3px"},type:"primary"},{default:l(()=>[m(n(e.info),1)]),_:2},1024),a(x,{style:{float:"right",padding:"3px 3px"},type:"info"},{default:l(()=>[m(" - ")]),_:1}),a(x,{style:{float:"right",padding:"3px 3px"},type:"danger"},{default:l(()=>[m(n(e.type),1)]),_:2},1024)]),o("div",yt,[o("div",null,n(e.details),1)])]),_:2},1024)):(r(),c(V,{key:1,class:"box-card",style:{"margin-bottom":"15px"},"body-style":{padding:"0px"}},{default:l(()=>[o("img",{src:e.img,style:{width:"100%"},class:"image"},null,8,ht),o("div",xt,[o("span",null,n(e.details),1),o("div",bt,[o("time",kt,n(e.name),1),a(x,{style:{float:"right",padding:"3px 3px"},type:"primary"},{default:l(()=>[m(n(e.info),1)]),_:2},1024),a(x,{style:{float:"right",padding:"3px 3px"},type:"info"},{default:l(()=>[m(" - ")]),_:1}),a(x,{style:{float:"right",padding:"3px 3px"},type:"danger"},{default:l(()=>[m(n(e.type),1)]),_:2},1024)])])]),_:2},1024))],64))),256))])]),footer:l(()=>[o("div",Ct,[a(E,{type:"primary",onClick:f.customerCancelClick},{default:l(()=>[m("关闭")]),_:1},8,["onClick"])])]),_:1},8,["modelValue","direction"])],64)}const zt=be(Ce,[["render",Vt],["__scopeId","data-v-d8b32895"]]);export{zt as default};
